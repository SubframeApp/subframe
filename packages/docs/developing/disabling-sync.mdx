---
title: Disabling sync
description: Prevent CLI from overwriting customized components
---

By default, components synced from Subframe update automatically when you run `npx @subframe/cli sync`. If you've made local changes to a component, those changes get overwritten.

Disabling sync prevents this—but it also stops the component from receiving updates, bug fixes, and improvements from Subframe.

<Warning>
Disable sync only as a last resort. Once disabled, the component stops receiving updates from Subframe. Try wrapper components or composition patterns first.
</Warning>

## When to disable sync

Disable sync when you need to:

- Fundamentally change how a component renders
- Add complex internal logic that can't be handled through props
- Integrate third-party libraries requiring structural modifications
- Make changes that exhaust composition patterns

## Try wrapper components first

Instead of disabling sync, wrap the Subframe component with your custom logic. Components stay in sync while you control behavior.

### Basic wrapper

```tsx CustomButton.tsx
import React from "react"
import { Button } from "@/ui/Button"

interface CustomButtonProps extends React.ComponentProps<typeof Button> {
  onAnalyticsClick?: () => void
}

export const CustomButton = React.forwardRef<HTMLButtonElement, CustomButtonProps>(
  function CustomButton({ onAnalyticsClick, onClick, ...props }, ref) {
    const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
      onAnalyticsClick?.()
      onClick?.(e)
    }

    return <Button ref={ref} onClick={handleClick} {...props} />
  }
)
```

Use it like this:

```tsx
<CustomButton
  onAnalyticsClick={() => trackEvent('button_click')}
  onClick={() => handleSubmit()}
>
  Submit form
</CustomButton>
```

### Advanced wrapper with state

For complex logic with state or effects:

```tsx ConfirmButton.tsx
import React, { useState } from "react"
import { Button } from "@/ui/Button"
import { Dialog } from "@/ui/Dialog"

interface ConfirmButtonProps extends React.ComponentProps<typeof Button> {
  confirmMessage: string
  onConfirm: () => void
}

export function ConfirmButton({
  confirmMessage,
  onConfirm,
  children,
  ...buttonProps
}: ConfirmButtonProps) {
  const [isOpen, setIsOpen] = useState(false)

  return (
    <>
      <Button {...buttonProps} onClick={() => setIsOpen(true)}>
        {children}
      </Button>

      <Dialog open={isOpen} onClose={() => setIsOpen(false)}>
        <Dialog.Content>
          <Dialog.Title>Confirm action</Dialog.Title>
          <Dialog.Description>{confirmMessage}</Dialog.Description>
          <Dialog.Actions>
            <Button variant="neutral" onClick={() => setIsOpen(false)}>
              Cancel
            </Button>
            <Button variant="destructive" onClick={() => {
              onConfirm()
              setIsOpen(false)
            }}>
              Confirm
            </Button>
          </Dialog.Actions>
        </Dialog.Content>
      </Dialog>
    </>
  )
}
```

**Don't disable sync for these common cases:**

Adding event handlers—all Subframe components forward props:

```tsx
<Button onClick={() => console.log('clicked')}>Click me</Button>
```

Adding custom styling—use the `className` prop:

```tsx
<Button className="custom-class">Styled button</Button>
```

Complex business logic—wrap the component as shown above.

For components with interactive elements inside, use slots:

```tsx
<Card
  title="Product"
  actions={
    <Button onClick={() => addToCart()}>Add to cart</Button>
  }
>
  <ProductImage />
</Card>
```

For more on slots, see [Props and Slots](/components/props-and-slots).

## Disable sync with @subframe/sync-disable

If wrapper components don't work, add this comment to the top of the file:

```tsx Button.tsx
// @subframe/sync-disable

import * as SubframeCore from "@subframe/core"

// Your modified component code
export function Button({ ...props }) {
  // Custom implementation
}
```

The next sync skips this component. Your local changes remain intact.

### After disabling

- The component stops receiving Subframe updates
- Bug fixes won't sync automatically
- You maintain the component code
- Other components continue syncing normally

### Re-enabling sync

Remove the `// @subframe/sync-disable` comment. The next sync overwrites your local changes with the latest version from Subframe.

<Warning>
Save your custom changes before re-enabling sync. The sync completely replaces file contents.
</Warning>

### Document your changes

Add comments explaining why you disabled sync:

```tsx
// @subframe/sync-disable
// Reason: Integrated with react-hook-form Controller for validation
// Last synced: 2025-01-15
// Original version: v2.3.1
```

Track disabled components in a shared document:

```markdown
# Components with sync disabled

- **Button** - Custom analytics integration
- **TextField** - react-hook-form Controller wrapper
```

Review periodically:
- Has Subframe added props or slots that solve your problem?
- Can you refactor to use a wrapper now?
- Are new composition patterns available?

## Troubleshooting

<AccordionGroup>
<Accordion title="Sync not disabling">

If sync continues overwriting your component:

1. Verify the comment is exactly `// @subframe/sync-disable`
2. Place it at the top of the file (line 1 or 2)
3. Check you're editing the correct file in your components directory
4. Run sync again—it should report skipping the component

</Accordion>
<Accordion title="Re-enabling overwrites changes">

This is expected. If you need to preserve custom changes:

1. Copy the file to a backup location
2. Remove `// @subframe/sync-disable`
3. Run `npx @subframe/cli sync`
4. Re-apply specific changes you need
5. Consider creating a wrapper instead

</Accordion>
</AccordionGroup>

## Learn more

<CardGroup cols={2}>
  <Card title="Props and slots" icon="puzzle-piece" href="/components/props-and-slots">
    Understand when to use props vs slots for customizing Subframe components.
  </Card>
  <Card title="Syncing components" icon="arrows-rotate" href="/developing/syncing-components">
    Keep components in sync with the CLI
  </Card>
  <Card title="Adding business logic" icon="wand-magic-sparkles" href="/developing/adding-business-logic">
    Integrate state management, API calls, and event handlers into your Subframe-exported code.
  </Card>
</CardGroup>
